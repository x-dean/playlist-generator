# Playlist Generator Simple - Clean Configuration
# Simplified for the "1 For All" SingleAnalyzer approach

# =============================================================================
# CORE PATHS
# =============================================================================
MUSIC_PATH=/music
# DB_PATH removed - using PostgreSQL only
LOG_FILE=/app/logs/playlista.log
CACHE_DIR=/app/cache

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_CONSOLE_ENABLED=true
LOG_FILE_ENABLED=true
LOG_FILE_SIZE_MB=50
LOG_MAX_FILES=5

# =============================================================================
# SINGLE ANALYZER SETTINGS
# =============================================================================
# Number of workers (auto = system-determined)
ANALYSIS_WORKERS=auto

# Timeout for analysis operations
ANALYSIS_TIMEOUT=600

# File size thresholds for automatic optimization
OPTIMIZED_PIPELINE_MIN_SIZE_MB=5
OPTIMIZED_PIPELINE_MAX_SIZE_MB=200

# Audio processing settings for OptimizedPipeline
OPTIMIZED_SAMPLE_RATE=22050

# Worker allocation settings
MEMORY_PER_WORKER_GB=1.2
USER_OVERRIDE_TOTAL_RAM_GB=
WORKLOAD_DETECTION_MODE=auto
SEGMENT_LENGTH=30
MAX_SEGMENTS=4

# =============================================================================
# DATABASE - POSTGRESQL ONLY
# =============================================================================
# PostgreSQL connection settings (required)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=playlista
POSTGRES_USER=playlista
POSTGRES_PASSWORD=playlista_password

# Connection pool settings
POSTGRES_MIN_CONNECTIONS=2
POSTGRES_MAX_CONNECTIONS=10

# =============================================================================
# CACHING
# =============================================================================
CACHE_ENABLED=true

# =============================================================================
# EXTERNAL APIs (Optional)
# =============================================================================
MUSICBRAINZ_ENABLED=false
LASTFM_ENABLED=false
LASTFM_API_KEY=

# =============================================================================
# ADVANCED SETTINGS (Usually don't need to change)
# =============================================================================
# MusiCNN model paths (if available)
MUSICNN_MODEL_PATH=/app/models/msd-musicnn-1.pb
MUSICNN_JSON_PATH=/app/models/msd-musicnn-1.json

# Resource mode for OptimizedPipeline: low, balanced, high_accuracy
PIPELINE_RESOURCE_MODE=balanced

